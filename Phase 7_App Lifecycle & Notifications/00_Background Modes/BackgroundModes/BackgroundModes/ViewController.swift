//üîç ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á Background Modes
//
//‡πÇ‡∏î‡∏¢‡∏õ‡∏Å‡∏ï‡∏¥ iOS ‡∏à‡∏∞ ‚Äú‡∏´‡∏¢‡∏∏‡∏î‚Äù ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡πÅ‡∏≠‡∏õ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏Å‡∏î Home ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÅ‡∏≠‡∏õ‡∏≠‡∏∑‡πà‡∏ô
//‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÅ‡∏ö‡∏ï‡πÅ‡∏•‡∏∞‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≥
//‡πÅ‡∏ï‡πà‡∏ö‡∏≤‡∏á‡πÅ‡∏≠‡∏õ (‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏û‡∏•‡∏á, ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà, ‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå, ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå, ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô)
//‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô ‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á (Background)
//‡∏ã‡∏∂‡πà‡∏á Apple ‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡∏ú‡πà‡∏≤‡∏ô‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ß‡πà‡∏≤ Background Modes

//‚öôÔ∏è ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î Background Modes ‡πÉ‡∏ô Xcode
//
//‡πÄ‡∏õ‡∏¥‡∏î‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå ‚Üí ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Target ‚Üí Signing & Capabilities
//‡∏Å‡∏î + Capability
//‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Background Modes
//‡πÄ‡∏õ‡∏¥‡∏î‡∏™‡∏ß‡∏¥‡∏ï‡∏ä‡πå‡∏ï‡∏≤‡∏°‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ ‡πÄ‡∏ä‡πà‡∏ô
//Background fetch
//Background processing
//Audio, AirPlay, and Picture in Picture
//Location updates
//Remote notifications
//Background URLSession

//‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö ‚Äú‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏£‡∏∑‡∏≠‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà‚Äù
//‡πÅ‡∏°‡πâ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏à‡∏∞‡∏õ‡∏¥‡∏î‡πÅ‡∏≠‡∏õ, ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏¢‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠‡πÉ‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á

//‚úÖ ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå

//class DownloadManager: NSObject, URLSessionDownloadDelegate {
//    static let shared = DownloadManager()
//
//    private lazy var session: URLSession = {
//        let config = URLSessionConfiguration.background(withIdentifier: "com.myapp.download")
//        return URLSession(configuration: config, delegate: self, delegateQueue: nil)
//    }()
//
//    func startDownload() {
//        let url = URL(string: "https://example.com/largefile.zip")!
//        let task = session.downloadTask(with: url)
//        task.resume()
//    }
//
//    // ‚úÖ delegate ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à ‡πÅ‡∏°‡πâ‡πÅ‡∏≠‡∏õ‡∏õ‡∏¥‡∏î‡∏≠‡∏¢‡∏π‡πà
//    func urlSession(_ session: URLSession, downloadTask: URLSessionDownloadTask, didFinishDownloadingTo location: URL) {
//        print("‚úÖ Download complete: \(location)")
//    }
//}

//üéµ 3. Background Audio
//
//‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ ‡πÅ‡∏°‡πâ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡πÅ‡∏≠‡∏õ
//‡πÄ‡∏õ‡∏¥‡∏î Background Modes ‚Üí ‚ÄúAudio, AirPlay, and Picture in Picture‚Äù

//‚úÖ ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

//‡πÄ‡∏õ‡∏¥‡∏î Background Modes ‚Üí Location updates
//‡∏Ç‡∏≠ permission ‡∏à‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ:

import UIKit
import AVFoundation

class ViewController: UIViewController {

    override func viewDidLoad() {
        super.viewDidLoad()
        // Do any additional setup after loading the view.
    }

    func playAudio() {
//        ‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏ß‡πà‡∏≤‡πÉ‡∏ä‡πâ AVPlayer ‡∏´‡∏£‡∏∑‡∏≠ AudioEngine ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡πÅ‡∏≠‡∏õ
        do {
            try AVAudioSession.sharedInstance().setCategory(.playback, mode: .default)
            try AVAudioSession.sharedInstance().setActive(true)
        } catch {
            print("‚ùå Audio session error:", error)
        }

    }
}

import CoreLocation

class LocationManager: NSObject, CLLocationManagerDelegate {
    let manager = CLLocationManager()

    override init() {
//        ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ Key ‡πÉ‡∏ô Info.plist
//        NSLocationAlwaysAndWhenInUseUsageDescription
        super.init()
        manager.delegate = self
        manager.requestAlwaysAuthorization()
        manager.startUpdatingLocation()
    }

    func locationManager(_ manager: CLLocationManager, didUpdateLocations locations: [CLLocation]) {
        print("üìç Location:", locations.last!)
    }
}



